The device registers appear to the CPU as memory locations at a specific physical address. When the CPU writes to these locations, the integrated PCI controller realizes that these accesses should be routed to the appropriate device.

## **memory-mapped I/O** 
- This means that a portion of the physical memory on the system is dedicated for device interactions.
- The portion of the memory that is reserved for these interactions is controlled by the **Base Address Registers** (BAR). These registers get configured during the boot process in accordance to the PCI protocol.

----------
## IO Port Model
In addition, the CPU can access devices via special instructions. x86 platforms specify certain in/out instructions that are used for accessing devices. 
Each instruction needs to specify the target device - the I/O port - as well as some value that will be passed to the device. This model is called the **I/O Port Model**.

----
## Path from Device to CPU 
The path from the device to the CPU complex can take two routes. Devices can generate interrupts to the CPU. CPUs can poll devices by reading their status registers to determine if they have some response/data for the CPU.
## Interrrupt

With interrupts, the downside is the interrupt handlers. There are the actual steps involved in the interrupt handler that cost CPU cycles. There may be setting/resetting of interrupt masks as well as more indirect effects due to cache pollution.

That being said, interrupts can be triggered by the device as soon as the device has information for the CPU.

## Polling
For polling, the OS has the opportunity to choose when it will poll. The OS can choose to poll at times when cache pollution will be at its lowest. However, this strategy can introduce delay in how the event is observed or handled, since the handling happens at some point after the event has been generated by device. In addition, too much polling may introduce CPU overhead that may not be affordable.

![[Pasted image 20241104121926.png]]